Version 4
SHEET 1 1428 1716
WIRE -32 -624 -32 -656
WIRE 240 -576 240 -656
WIRE -128 -560 -208 -560
WIRE -128 -528 -128 -560
WIRE -32 -512 -32 -544
WIRE -32 -512 -96 -512
WIRE 320 -512 288 -512
WIRE -464 -496 -464 -528
WIRE -352 -496 -464 -496
WIRE -320 -496 -352 -496
WIRE -160 -496 -256 -496
WIRE 80 -480 -96 -480
WIRE 112 -480 80 -480
WIRE 240 -480 192 -480
WIRE -352 -464 -352 -496
WIRE -32 -448 -32 -512
WIRE 80 -448 80 -480
WIRE 240 -448 240 -480
WIRE -208 -416 -208 -560
WIRE -128 -416 -128 -464
WIRE -352 -352 -352 -384
WIRE -32 -352 -32 -368
WIRE 80 -352 80 -384
WIRE 240 -352 240 -368
WIRE -464 -288 -464 -496
WIRE 176 -288 -464 -288
WIRE 176 -272 176 -288
WIRE 32 -224 -16 -224
WIRE 144 -224 112 -224
WIRE 272 -224 240 -224
WIRE 64 -112 -16 -112
WIRE 272 -112 144 -112
WIRE 816 -112 720 -112
WIRE 1056 -112 896 -112
WIRE -16 -16 -16 -112
WIRE 80 -16 -16 -16
WIRE 272 -16 272 -112
WIRE 272 -16 144 -16
WIRE 720 16 720 -112
WIRE 816 16 720 16
WIRE 1056 16 1056 -112
WIRE 1056 16 880 16
WIRE -192 48 -224 48
WIRE -80 48 -112 48
WIRE 224 80 80 80
WIRE 80 112 80 80
WIRE 960 112 816 112
WIRE 816 144 816 112
WIRE -224 160 -224 48
WIRE -224 160 -432 160
WIRE -192 160 -224 160
WIRE -16 160 -16 -16
WIRE -16 160 -128 160
WIRE 48 160 -16 160
WIRE -432 192 -432 160
WIRE 272 192 272 -16
WIRE 272 192 192 192
WIRE 320 192 320 -512
WIRE 320 192 272 192
WIRE 400 192 400 96
WIRE 400 192 320 192
WIRE 416 192 400 192
WIRE 544 192 496 192
WIRE 640 192 640 96
WIRE 640 192 544 192
WIRE 720 192 720 16
WIRE 720 192 640 192
WIRE 784 192 720 192
WIRE 48 224 -16 224
WIRE 544 224 544 192
WIRE 1056 224 1056 16
WIRE 1056 224 928 224
WIRE 1184 224 1184 112
WIRE 1184 224 1056 224
WIRE 784 256 720 256
WIRE -16 288 -16 224
WIRE -432 304 -432 272
WIRE 544 320 544 288
WIRE 720 320 720 256
WIRE 80 336 80 272
WIRE 224 336 224 80
WIRE 816 368 816 304
WIRE 960 368 960 112
WIRE -528 592 -528 560
WIRE -400 592 -400 560
WIRE -528 720 -528 672
WIRE -400 720 -400 672
FLAG 400 96 1st_charge_amp_out
FLAG -400 720 0
FLAG -528 560 Vcc
FLAG 224 336 Vcc
FLAG -400 560 Vee
FLAG 80 336 Vee
FLAG 544 320 0
FLAG 640 96 2nd_charge_amp_in
FLAG -528 720 0
FLAG -208 -416 Vcc
FLAG -128 -416 Vee
FLAG -32 -352 0
FLAG -32 -656 Vcc
FLAG 80 -352 0
FLAG -464 -528 comparator_out
FLAG 240 -656 Vcc
FLAG 240 -352 0
FLAG -352 -352 0
FLAG -16 288 0
FLAG 960 368 Vcc
FLAG 816 368 Vee
FLAG 720 320 0
FLAG 1184 112 2nd_charge_amp_out
FLAG -432 304 0
SYMBOL cap 144 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 12p
SYMBOL voltage -400 688 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 8
SYMBOL voltage -528 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 8
SYMBOL cap 560 288 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 4n7
SYMBOL res 512 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 16 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 5m
SYMBOL cap -128 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 120p
SYMBOL res -16 -352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 4k7
SYMBOL res -16 -528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 9k
SYMBOL Comparators\\LT1716 -128 -496 M0
SYMATTR InstName U3
SYMBOL res 96 -464 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL cap 96 -384 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C7
SYMATTR Value 1n
SYMBOL njf 240 -272 R90
SYMATTR InstName J4
SYMBOL njf 288 -576 M0
SYMATTR InstName J1
SYMBOL res 256 -352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 4k7
SYMBOL diode -320 -480 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL res -336 -368 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 470k
SYMBOL Opamps\\LTC6269 80 192 R0
SYMATTR InstName U1
SYMBOL cap 880 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 6p
SYMBOL Opamps\\LTC6269 816 224 R0
SYMATTR InstName U2
SYMBOL res 800 -96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 1e6
SYMBOL current -432 192 R0
WINDOW 0 15 107 Left 2
WINDOW 3 -86 170 Left 2
WINDOW 123 14 76 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value PULSE(0 400u 1mS 300n 3u 100n 1m)
SYMATTR Value2 AC 1
SYMBOL res -208 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res 48 -96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 1e6
TEXT -312 544 Left 2 !.tran 0 3mS 0 1uS
TEXT -312 576 Left 2 ;.step param R3 list 2e3 3e4 4e4
TEXT -312 608 Left 2 ;.param R3 1e15
TEXT 232 552 Left 2 !.options method=gear\n.options trtol=10
